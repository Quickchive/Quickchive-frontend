(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31367d46"],{"3bd4":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"alert-modal"},[e("div",{staticClass:"overlay"}),e("div",{staticClass:"alert-modal-card"},[e("div",{staticClass:"modal-card__header"},[e("p",{domProps:{innerHTML:t._s(t.handleNewLine(this.alertModalContent))}})]),e("div",{staticClass:"modal-card__button-wrapper"},[e("button",{on:{click:function(e){return t.$emit("confirmBtn")}}},[e("p",{domProps:{innerHTML:t._s(t.handleNewLine(this.btnMessage))}})])])])])},n=[],i={name:"AlertModalComponent",props:{alertModalContent:String,btnMessage:String},methods:{handleNewLine(t){return String(t).replace(/(?:\r\n|\r|\n)/g,"</br>")}}},r=i,o=a("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=l.exports},"46c8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex-container-col"},[e("div",{staticClass:"register-wrapper"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"register-form__wrapper"},[e("label",{staticClass:"register-form__label",attrs:{for:"email"}},[t._v("이메일")]),e("span",{staticClass:"mypage__email",attrs:{id:"email"}},[t._v(t._s(this.$store.state.authStore.email))])]),e("div",{staticClass:"register-form__wrapper"},[e("label",{staticClass:"register-form__label",attrs:{for:"nickname"}},[t._v("닉네임")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",maxlength:"8",id:"nickname",placeholder:"2 ~ 8자"},domProps:{value:t.nickname},on:{input:[function(e){e.target.composing||(t.nickname=e.target.value)},function(e){t.nickname=e.target.value}]}})]),0==t.validateNickname?e("span",{staticClass:"error-msg"},[t._v("2자 ~ 8자로 입력해주세요.")]):t._e(),e("div",{staticClass:"register-form__wrapper"},[e("label",{staticClass:"register-form__label",attrs:{for:"oldPw"}},[t._v("기존 비밀번호")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPw,expression:"oldPw"}],attrs:{type:"password",id:"oldPw",placeholder:"8자 이상 문자, 숫자, 기호 사용 가능"},domProps:{value:t.oldPw},on:{input:function(e){e.target.composing||(t.oldPw=e.target.value)}}})]),0==t.validateOldPw?e("span",{staticClass:"error-msg"},[t._v("8자 이상 문자와 숫자를 포함하여 입력해주세요.")]):t._e(),e("div",{staticClass:"register-form__wrapper"},[e("label",{staticClass:"register-form__label",attrs:{for:"pw"}},[t._v("새 비밀번호")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pw,expression:"pw"}],attrs:{type:"password",id:"pw",placeholder:"8자 이상 문자, 숫자, 기호 사용 가능"},domProps:{value:t.pw},on:{input:function(e){e.target.composing||(t.pw=e.target.value)}}})]),0==t.validatePw?e("span",{staticClass:"error-msg"},[t._v("8자 이상 문자와 숫자를 포함하여 입력해주세요.")]):t._e(),e("div",{staticClass:"register-form__wrapper"},[e("label",{staticClass:"register-form__label",attrs:{for:"pwCheck"}},[t._v("비밀번호 확인")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwCheck,expression:"pwCheck"}],attrs:{type:"password",id:"pwCheck",placeholder:"비밀번호 재입력"},domProps:{value:t.pwCheck},on:{input:function(e){e.target.composing||(t.pwCheck=e.target.value)}}})]),0==t.checkPw?e("span",{staticClass:"error-msg"},[t._v("비밀번호가 다릅니다.")]):t._e(),e("div",{staticClass:"space-33"}),e("button",{staticClass:"btn__register",class:{btnValid:t.isValid},attrs:{disabled:!t.isValid,type:"submit"}},[t._v(" 수정 완료 ")])]),e("button",{staticClass:"btn__deleteuser",on:{click:function(e){t.isModalActive=!0}}},[t._v(" 회원탈퇴 ")])])]),1==t.isModalActive?e("confirm-modal-component",{attrs:{confirmModalContent:t.confirmModalContent,leftBtnMessage:t.leftBtnMessage,rightBtnMessage:t.rightBtnMessage},on:{rightBtn:function(e){t.isModalActive=!1},leftBtn:function(e){return t.deleteMembership()}}}):t._e(),1==t.isAlertModalActive?e("AlertModalComponent",{attrs:{alertModalContent:t.alertModalContent,btnMessage:t.btnMessage},on:{confirmBtn:function(e){t.isAlertModalActive=!1}}}):t._e()],1)},n=[],i=a("5464"),r=a("c24f"),o=a("3786"),l=a("ad92"),c=a("3bd4"),d={components:{ConfirmModalComponent:l["a"],AlertModalComponent:c["a"]},data(){return{nickname:this.$store.state.authStore.nickname,oldPw:"",pw:"",pwCheck:"",isModalActive:!1,confirmModalContent:"회원탈퇴 시, 저장한 콘텐츠 및 콜렉션을 불러올 수 없습니다. 회원을 탈퇴하시겠습니까?",leftBtnMessage:"네",rightBtnMessage:"아니오",isAlertModalActive:!1,AlertModalContent:"",btnMessage:"네"}},created(){this.$store.dispatch("FETCH_PROFILE"),this.nickname=this.$store.state.authStore.nickname},computed:{validateNickname(){return""==this.nickname?null:!(this.nickname.length<2||this.nickname.length>8)},validateOldPw(){return""!=this.oldPw?Object(i["e"])(this.oldPw):null},validatePw(){return""!=this.pw?Object(i["e"])(this.pw):null},checkPw(){return""==this.pwCheck?null:this.pw==this.pwCheck},isValid(){return 1==this.validateNickname&&1==this.validateOldPw&&1==this.validatePw&&1==this.checkPw}},methods:{initForm(){this.nickname="",this.email="",this.pw="",this.oldPw="",this.pwCheck=""},async submitForm(){try{const t={name:this.nickname,password:this.pw,oldPassword:this.oldPw},e=await Object(r["a"])(t);console.log(e),this.$router.push("/main")}catch(t){console.log(t),this.alertModalContent=t.response.data.message,this.isAlertModalActive=!0}},async deleteMembership(){try{this.isModalActive=!1;const t=await Object(o["a"])();console.log(t),this.$store.commit("logoutUser"),this.$router.push("/")}catch(t){console.log(t),this.alertModalContent=t.response.data.message,this.isAlertModalActive=!0}}}},u=d,m=a("2877"),p=Object(m["a"])(u,s,n,!1,null,null,null);e["default"]=p.exports},5464:function(t,e,a){"use strict";function s(t){const e=/^(?=.*\d)[A-Za-z\d@$!%*?&]{8,}$/;return e.test(String(t.toLowerCase()))}function n(t){const e=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;return e.test(String(t))}function i(t){let e="http",a=t.indexOf(e),s=0;while(-1!==a)s++,a=t.indexOf(e,a+1);return s}function r(t){let e=t.split(" ");return e}function o(t){const e=new Date,a=new Date(t),s=e.getTime()-a.getTime();return parseInt(Math.abs(s/864e5)+1)}a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return r}))},ad92:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"confirm-modal"},[e("div",{staticClass:"overlay"}),e("div",{staticClass:"confirm-modal-card"},[e("div",{staticClass:"modal-card__header"},[t.isCloseBtnShow?e("div",{staticClass:"button-wrapper"},[e("button",{staticClass:"btn--transparent btn__close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close-modal")}}},[e("img",{attrs:{src:t.closeBtn}})])]):t._e(),e("p",{domProps:{innerHTML:t._s(t.handleNewLine(this.confirmModalContent))}})]),e("div",{staticClass:"modal-card__button-wrapper"},[e("button",{attrs:{id:"btn__confirm"},on:{click:function(e){return t.$emit("leftBtn")}}},[t._v(" "+t._s(t.leftBtnMessage)+" ")]),e("button",{on:{click:function(e){return t.$emit("rightBtn")}}},[t._v(t._s(t.rightBtnMessage))])])])])},n=[],i=a("f7ed"),r=a.n(i),o={name:"ConfirmModalComponent",props:{confirmModalContent:String,leftBtnMessage:String,rightBtnMessage:String,isCloseBtnShow:Boolean},data:function(){return{closeBtn:r.a}},methods:{handleNewLine(t){return String(t).replace(/(?:\r\n|\r|\n)/g,"</br>")}}},l=o,c=a("2877"),d=Object(c["a"])(l,s,n,!1,null,null,null);e["a"]=d.exports},f7ed:function(t,e,a){t.exports=a.p+"img/closeBtn.a9f6b6a0.svg"}}]);
//# sourceMappingURL=chunk-31367d46.753ec4e5.js.map